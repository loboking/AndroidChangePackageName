<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Android Project Rebuilder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 800px;
            width: 100%;
            padding: 40px;
        }

        h1 {
            color: #667eea;
            font-size: 32px;
            margin-bottom: 10px;
            text-align: center;
        }

        .subtitle {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .required {
            color: #e74c3c;
        }

        .optional {
            color: #999;
            font-weight: normal;
            font-size: 12px;
        }

        input[type="text"],
        input[type="file"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        input[type="file"] {
            padding: 8px;
            cursor: pointer;
        }

        .file-info {
            font-size: 12px;
            color: #999;
            margin-top: 5px;
        }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 10px;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .progress-container {
            display: none;
            margin-top: 30px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .log-container {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.6;
        }

        .log-line {
            padding: 2px 0;
            color: #333;
        }

        .log-line.step {
            color: #667eea;
            font-weight: bold;
            margin-top: 10px;
        }

        .log-line.success {
            color: #27ae60;
        }

        .log-line.error {
            color: #e74c3c;
        }

        .log-line.warning {
            color: #f39c12;
        }

        .success-message {
            display: none;
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
            font-weight: 600;
        }

        .error-message {
            display: none;
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .divider {
            border: none;
            border-top: 1px solid #e0e0e0;
            margin: 30px 0;
        }

        .section-title {
            font-size: 18px;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: 600;
        }

        /* Help Button */
        .help-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
            z-index: 1000;
        }

        .help-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        /* Help Modal */
        .help-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .help-modal.active {
            display: flex;
        }

        .help-content {
            background: white;
            border-radius: 16px;
            max-width: 700px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
        }

        .help-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e0e0e0;
        }

        .help-title {
            font-size: 24px;
            color: #667eea;
            font-weight: 600;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 28px;
            color: #999;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            line-height: 1;
        }

        .close-btn:hover {
            color: #333;
        }

        /* Accordion */
        .accordion-item {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .accordion-header {
            background: #f8f9fa;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: #333;
            transition: background 0.3s;
        }

        .accordion-header:hover {
            background: #e9ecef;
        }

        .accordion-header.active {
            background: #667eea;
            color: white;
        }

        .accordion-icon {
            font-size: 18px;
            transition: transform 0.3s;
        }

        .accordion-header.active .accordion-icon {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background: white;
        }

        .accordion-content.active {
            max-height: 2500px;
            overflow-y: auto;
        }

        .accordion-body {
            padding: 20px;
            line-height: 1.8;
            color: #555;
        }

        .accordion-body h4 {
            color: #667eea;
            margin: 15px 0 10px 0;
            font-size: 16px;
        }

        .accordion-body ol, .accordion-body ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .accordion-body li {
            margin-bottom: 8px;
        }

        .accordion-body code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #e74c3c;
        }

        .accordion-body img {
            max-width: 100%;
            border-radius: 8px;
            margin: 10px 0;
            border: 1px solid #e0e0e0;
        }

        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 4px;
            font-size: 14px;
        }

        /* Checkbox styles */
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .checkbox-group label {
            margin: 0;
            cursor: pointer;
            font-size: 14px;
            color: #333;
        }

        .checkbox-group:hover {
            border-color: #667eea;
            background: #f0f2ff;
        }
    </style>
</head>
<body>
    <!-- Help Button -->
    <button class="help-btn" onclick="toggleHelp()">?</button>

    <!-- Help Modal -->
    <div class="help-modal" id="helpModal">
        <div class="help-content">
            <div class="help-header">
                <h2 class="help-title">ğŸ“– ì‚¬ìš© ê°€ì´ë“œ</h2>
                <button class="close-btn" onclick="toggleHelp()">&times;</button>
            </div>

            <!-- Accordion Items -->
            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>1. Firebase google-services.json ë‹¤ìš´ë¡œë“œ ë°©ë²•</span>
                    <span class="accordion-icon">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-body">
                        <h4>ğŸ“¥ Firebase ì½˜ì†”ì—ì„œ ë‹¤ìš´ë¡œë“œ</h4>
                        <ol>
                            <li><a href="https://console.firebase.google.com/" target="_blank">Firebase Console</a>ì— ì ‘ì†</li>
                            <li>í”„ë¡œì íŠ¸ ì„ íƒ (ë˜ëŠ” ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±)</li>
                            <li>ì¢Œì¸¡ ë©”ë‰´ì—ì„œ <strong>í”„ë¡œì íŠ¸ ì„¤ì •</strong> (âš™ï¸ ì•„ì´ì½˜) í´ë¦­</li>
                            <li><strong>ì¼ë°˜</strong> íƒ­ì—ì„œ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤</li>
                            <li><strong>"ë‚´ ì•±"</strong> ì„¹ì…˜ì—ì„œ Android ì•± ì„ íƒ</li>
                            <li><code>google-services.json</code> ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ í´ë¦­</li>
                        </ol>
                        <div class="note">
                            <strong>ğŸ’¡ ì£¼ì˜ì‚¬í•­:</strong> google-services.jsonì€ ìƒˆ íŒ¨í‚¤ì§€ëª…ì— ë§ëŠ” Firebase í”„ë¡œì íŠ¸ì—ì„œ ë‹¤ìš´ë¡œë“œí•´ì•¼ í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>2. Firebase Admin SDK ë¹„ê³µê°œ í‚¤ ìƒì„± (Java)</span>
                    <span class="accordion-icon">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-body">
                        <h4>ğŸ”‘ Admin SDK êµ¬ì„± ìŠ¤ë‹ˆí« ìƒì„±</h4>
                        <ol>
                            <li><a href="https://console.firebase.google.com/" target="_blank">Firebase Console</a> ì ‘ì†</li>
                            <li>í”„ë¡œì íŠ¸ ì„ íƒ</li>
                            <li>ì¢Œì¸¡ ë©”ë‰´ì—ì„œ <strong>í”„ë¡œì íŠ¸ ì„¤ì •</strong> (âš™ï¸) â†’ <strong>ì„œë¹„ìŠ¤ ê³„ì •</strong> íƒ­ í´ë¦­</li>
                            <li><strong>"Firebase Admin SDK"</strong> ì„¹ì…˜ í™•ì¸</li>
                            <li>ì–¸ì–´ ì„ íƒ: <strong>Java</strong> ì„ íƒ</li>
                            <li><strong>"ìƒˆ ë¹„ê³µê°œ í‚¤ ìƒì„±"</strong> ë²„íŠ¼ í´ë¦­</li>
                            <li>í™•ì¸ íŒì—…ì—ì„œ <strong>"í‚¤ ìƒì„±"</strong> í´ë¦­</li>
                            <li>JSON íŒŒì¼ ìë™ ë‹¤ìš´ë¡œë“œ (ì´ë¦„: <code>í”„ë¡œì íŠ¸ëª…-xxxxx.json</code>)</li>
                        </ol>
                        <div class="note">
                            <strong>âš ï¸ ë³´ì•ˆ ì£¼ì˜:</strong> ë‹¤ìš´ë¡œë“œí•œ JSON íŒŒì¼ì€ ë¯¼ê°í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ë¯€ë¡œ ì ˆëŒ€ ê³µê°œ ì €ì¥ì†Œì— ì—…ë¡œë“œí•˜ì§€ ë§ˆì„¸ìš”!
                        </div>
                        <h4>ğŸ“ íŒŒì¼ ì‚¬ìš© ìœ„ì¹˜</h4>
                        <ul>
                            <li>ì„œë²„ ì¸¡ ì½”ë“œì—ì„œ Firebase Admin SDK ì´ˆê¸°í™” ì‹œ ì‚¬ìš©</li>
                            <li>ì˜ˆ: í‘¸ì‹œ ì•Œë¦¼ ì „ì†¡, ì‚¬ìš©ì ê´€ë¦¬, ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ ë“±</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>3. ì•± ì•„ì´ì½˜ ì¤€ë¹„ ë°©ë²•</span>
                    <span class="accordion-icon">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-body">
                        <h4>ğŸ¨ ê¶Œì¥ ì•„ì´ì½˜ ì‚¬ì–‘</h4>
                        <ul>
                            <li><strong>í¬ê¸°:</strong> 512x512 í”½ì…€ (ì •ì‚¬ê°í˜•)</li>
                            <li><strong>í˜•ì‹:</strong> PNG (íˆ¬ëª… ë°°ê²½ ì§€ì›)</li>
                            <li><strong>ë°°ê²½:</strong> íˆ¬ëª… ë˜ëŠ” ë‹¨ìƒ‰</li>
                        </ul>
                        <h4>âœ¨ ìë™ ë¦¬ì‚¬ì´ì§•</h4>
                        <p>ì—…ë¡œë“œí•œ 1ê°œì˜ ì´ë¯¸ì§€ê°€ ìë™ìœ¼ë¡œ ë‹¤ìŒ í•´ìƒë„ë¡œ ë³€í™˜ë©ë‹ˆë‹¤:</p>
                        <ul>
                            <li>mdpi: 48x48px</li>
                            <li>hdpi: 72x72px</li>
                            <li>xhdpi: 96x96px</li>
                            <li>xxhdpi: 144x144px</li>
                            <li>xxxhdpi: 192x192px</li>
                        </ul>
                        <div class="note">
                            <strong>ğŸ’¡ íŒ:</strong> ë¬´ë£Œ ì•„ì´ì½˜ ì œì‘ ë„êµ¬ - <a href="https://www.canva.com/" target="_blank">Canva</a>, <a href="https://www.figma.com/" target="_blank">Figma</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>4. íŒ¨í‚¤ì§€ëª… ì‘ì„± ê·œì¹™</span>
                    <span class="accordion-icon">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-body">
                        <h4>ğŸ“ íŒ¨í‚¤ì§€ëª… í˜•ì‹</h4>
                        <ul>
                            <li><strong>í˜•ì‹:</strong> <code>com.íšŒì‚¬ëª….ì•±ì´ë¦„</code></li>
                            <li><strong>ê·œì¹™:</strong>
                                <ul>
                                    <li>ì˜ë¬¸ ì†Œë¬¸ìë§Œ ì‚¬ìš©</li>
                                    <li>ì (.)ìœ¼ë¡œ ìµœì†Œ 2ê°œ ì´ìƒ êµ¬ë¶„</li>
                                    <li>ìˆ«ì, ì–¸ë”ìŠ¤ì½”ì–´(_) í—ˆìš©</li>
                                    <li>íŠ¹ìˆ˜ë¬¸ì, ê³µë°±, í•œê¸€ ë¶ˆê°€</li>
                                </ul>
                            </li>
                        </ul>
                        <h4>âœ… ì˜¬ë°”ë¥¸ ì˜ˆì‹œ</h4>
                        <ul>
                            <li><code>com.mycompany.myapp</code></li>
                            <li><code>kr.co.example.app2024</code></li>
                            <li><code>com.example.my_app</code></li>
                        </ul>
                        <h4>âŒ ì˜ëª»ëœ ì˜ˆì‹œ</h4>
                        <ul>
                            <li><code>myapp</code> (ì ì´ ì—†ìŒ)</li>
                            <li><code>com.MyApp</code> (ëŒ€ë¬¸ì ì‚¬ìš©)</li>
                            <li><code>com.íšŒì‚¬.ì•±</code> (í•œê¸€ ì‚¬ìš©)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>5. BASE_URL ë³€ê²½ ìš©ë„</span>
                    <span class="accordion-icon">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-body">
                        <h4>ğŸŒ BASE_URLì´ë€?</h4>
                        <p>ì•±ì—ì„œ ì„œë²„ APIë¥¼ í˜¸ì¶œí•  ë•Œ ì‚¬ìš©í•˜ëŠ” ê¸°ë³¸ ì£¼ì†Œì…ë‹ˆë‹¤.</p>

                        <div class="note">
                            <strong>âš ï¸ ì¤‘ìš”:</strong> BASE_URLì€ ë°˜ë“œì‹œ ë§ˆì§€ë§‰ì— ìŠ¬ë˜ì‹œ(<code>/</code>)ë¥¼ ë¶™ì—¬ì•¼ í•©ë‹ˆë‹¤!
                        </div>

                        <h4>ğŸ“‹ ì‚¬ìš© ì˜ˆì‹œ</h4>
                        <ul>
                            <li><strong>ê°œë°œ ì„œë²„:</strong> <code>https://dev-api.example.com/</code> âœ…</li>
                            <li><strong>ìš´ì˜ ì„œë²„:</strong> <code>https://api.example.com/</code> âœ…</li>
                            <li><strong>ë¡œì»¬ í…ŒìŠ¤íŠ¸:</strong> <code>http://localhost:8080/</code> âœ…</li>
                        </ul>

                        <h4>âŒ ì˜ëª»ëœ ì˜ˆì‹œ</h4>
                        <ul>
                            <li><code>https://api.example.com</code> (ìŠ¬ë˜ì‹œ ì—†ìŒ) âŒ</li>
                            <li><code>https://api.example.com/api</code> (ê²½ë¡œ í¬í•¨) âŒ</li>
                        </ul>

                        <h4>ğŸ”§ ìë™ ë³€ê²½ ëŒ€ìƒ</h4>
                        <p>ë‹¤ìŒ íŒŒì¼ì˜ BASE_URL ìƒìˆ˜ê°€ ìë™ìœ¼ë¡œ ë³€ê²½ë©ë‹ˆë‹¤:</p>
                        <ul>
                            <li><code>Config.kt</code></li>
                            <li><code>ApiService.kt</code></li>
                        </ul>
                        <div class="note">
                            <strong>ğŸ’¡ ì°¸ê³ :</strong> BASE_URLì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ì¡´ ê°’ì„ ìœ ì§€í•©ë‹ˆë‹¤.
                        </div>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>6. ë¦¬ë¹Œë“œ ì™„ë£Œ í›„ í™•ì¸ì‚¬í•­</span>
                    <span class="accordion-icon">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-body">
                        <h4>âœ… ë‹¤ìš´ë¡œë“œ íŒŒì¼ í™•ì¸</h4>
                        <ul>
                            <li>íŒŒì¼ëª…: <code>(íŒ¨í‚¤ì§€ëª…ë³€ê²½)ì•±ì´ë¦„.zip</code></li>
                            <li>ì••ì¶• í•´ì œ í›„ Android Studioì—ì„œ ì—´ê¸°</li>
                        </ul>
                        <h4>ğŸ“‹ ë³€ê²½ í™•ì¸ì‚¬í•­</h4>
                        <ol>
                            <li><strong>íŒ¨í‚¤ì§€ëª…:</strong> <code>build.gradle.kts</code>ì˜ applicationId í™•ì¸</li>
                            <li><strong>ì•± ì´ë¦„:</strong> <code>res/values/strings.xml</code>ì˜ app_name í™•ì¸</li>
                            <li><strong>ë²„ì „:</strong> versionCode=1, versionName="1.0.0" í™•ì¸</li>
                            <li><strong>Firebase:</strong> <code>app/google-services.json</code> ì¡´ì¬ í™•ì¸</li>
                            <li><strong>ì•„ì´ì½˜:</strong> <code>res/mipmap-*/ic_launcher.png</code> í™•ì¸</li>
                        </ol>
                        <h4>ğŸ” ë¡œê·¸ íŒŒì¼ í™•ì¸</h4>
                        <p>ZIP íŒŒì¼ ë‚´ë¶€ì˜ <code>ANDROID_REBUILDER_LOG.txt</code>ì—ì„œ ìƒì„¸í•œ ë³€ê²½ ë‚´ì—­ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        <h4>ğŸš€ ë‹¤ìŒ ë‹¨ê³„</h4>
                        <ol>
                            <li>Android Studioì—ì„œ Gradle Sync ì‹¤í–‰</li>
                            <li>ë¹Œë“œ â†’ í…ŒìŠ¤íŠ¸ â†’ ë°°í¬</li>
                        </ol>
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <span>7. AppFactory ê´€ë¦¬ì ì‚¬ì´íŠ¸ ì—°ë™ ê°€ì´ë“œ</span>
                    <span class="accordion-icon">â–¼</span>
                </div>
                <div class="accordion-content">
                    <div class="accordion-body">
                        <h4>ğŸ¯ ëª©í‘œ</h4>
                        <ul>
                            <li>AppFactory Admin Siteì—ì„œ ì•± ë“±ë¡</li>
                            <li>Firebaseì™€ AppFactory ì—°ë™</li>
                            <li>Push ì•Œë¦¼ ì„œë²„ ì—°ê²°</li>
                        </ul>

                        <h4>ğŸ”— Step 1: Firebase ì•± ë“±ë¡</h4>
                        <ol>
                            <li><a href="https://console.firebase.google.com/" target="_blank">Firebase Console</a> ì ‘ì†</li>
                            <li><strong>ì‹ ê·œ í”„ë¡œì íŠ¸ ìƒì„±</strong> ë˜ëŠ” ê¸°ì¡´ í”„ë¡œì íŠ¸ ì„ íƒ</li>
                            <li>ìƒì„±ëœ í”„ë¡œì íŠ¸ ì§„ì…</li>
                            <li><strong>Android ì•± ì¶”ê°€</strong> ë²„íŠ¼ í´ë¦­</li>
                            <li>íŒ¨í‚¤ì§€ëª… ì…ë ¥ í›„ ì•± ë“±ë¡</li>
                            <li><code>google-services.json</code> ë‹¤ìš´ë¡œë“œ</li>
                        </ol>
                        <div class="note">
                            <strong>ğŸ’¡ ì£¼ì˜:</strong> ë‹¤ìš´ë¡œë“œí•œ <code>google-services.json</code>ì€ ì´ ë¦¬ë¹Œë” íˆ´ì—ì„œ ì—…ë¡œë“œí•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
                        </div>

                        <h4>ğŸ”‘ Step 2: Firebase Admin SDK ë¹„ê³µê°œ í‚¤ ìƒì„±</h4>
                        <ol>
                            <li>Firebase Consoleì—ì„œ í˜„ì¬ í”„ë¡œì íŠ¸ í™”ë©´</li>
                            <li>ì¢Œì¸¡ ë©”ë‰´ ìƒë‹¨ì˜ <strong>í”„ë¡œì íŠ¸ ì„¤ì •</strong> (âš™ï¸ ì•„ì´ì½˜) í´ë¦­</li>
                            <li><strong>ì„œë¹„ìŠ¤ ê³„ì •</strong> íƒ­ í´ë¦­</li>
                            <li><strong>"Firebase Admin SDK"</strong> ì„¹ì…˜ í™•ì¸</li>
                            <li>ì–¸ì–´ ì„ íƒ: <strong>Java</strong> ì„ íƒ</li>
                            <li><strong>"ìƒˆ ë¹„ê³µê°œ í‚¤ ìƒì„±"</strong> ë²„íŠ¼ í´ë¦­</li>
                            <li>í™•ì¸ íŒì—…ì—ì„œ <strong>"í‚¤ ìƒì„±"</strong> ë²„íŠ¼ í´ë¦­</li>
                            <li>JSON íŒŒì¼ ìë™ ë‹¤ìš´ë¡œë“œ (íŒŒì¼ëª…: <code>í”„ë¡œì íŠ¸ëª…-xxxxx.json</code>)</li>
                        </ol>
                        <div class="note">
                            <strong>âš ï¸ ë³´ì•ˆ ì£¼ì˜:</strong> ë‹¤ìš´ë¡œë“œí•œ JSON íŒŒì¼ì€ ë¯¼ê°í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ë¯€ë¡œ ì ˆëŒ€ ê³µê°œ ì €ì¥ì†Œì— ì—…ë¡œë“œí•˜ì§€ ë§ˆì„¸ìš”!
                        </div>

                        <h4>ğŸŒ Step 3: AppFactory Admin Siteì—ì„œ ì•± ë“±ë¡</h4>
                        <ol>
                            <li><a href="https://adm.app-factory.kr/" target="_blank">AppFactory Admin Site</a> ì ‘ì†</li>
                            <li>ë¡œê·¸ì¸ (ê³„ì •ì´ ì—†ìœ¼ë©´ íšŒì›ê°€ì…)</li>
                            <li><strong>ì•± ê´€ë¦¬</strong> ë©”ë‰´ë¡œ ì´ë™</li>
                            <li><strong>ì•± ë“±ë¡</strong> ë²„íŠ¼ í´ë¦­</li>
                            <li>ì•± ì •ë³´ ì…ë ¥:
                                <ul>
                                    <li>ì•± ì´ë¦„</li>
                                    <li>íŒ¨í‚¤ì§€ëª… (Firebaseì— ë“±ë¡í•œ ê²ƒê³¼ ë™ì¼í•˜ê²Œ)</li>
                                    <li>ê¸°íƒ€ í•„ìš”í•œ ì •ë³´</li>
                                </ul>
                            </li>
                        </ol>

                        <h4>ğŸ“¤ Step 4: Firebase ë¹„ê³µê°œ í‚¤ ì—…ë¡œë“œ</h4>
                        <ol>
                            <li>AppFactory Admin Siteì—ì„œ ë“±ë¡í•œ ì•± ì„ íƒ</li>
                            <li><strong>Firebase ì„¤ì •</strong> ë˜ëŠ” <strong>Push ì„¤ì •</strong> ë©”ë‰´ ì´ë™</li>
                            <li><strong>íŒŒì¼ ì—…ë¡œë“œ</strong> ë²„íŠ¼ í´ë¦­</li>
                            <li>Step 2ì—ì„œ ë‹¤ìš´ë¡œë“œí•œ <strong>ë¹„ê³µê°œ í‚¤ JSON íŒŒì¼</strong> ì„ íƒ</li>
                            <li><strong>ì €ì¥</strong> ë²„íŠ¼ í´ë¦­</li>
                            <li>ì—°ë™ ìƒíƒœ í™•ì¸: <strong>"ì—°ë™ ì™„ë£Œ"</strong> í‘œì‹œë˜ë©´ ì„±ê³µ</li>
                        </ol>

                        <h4>âœ… ì—°ë™ í™•ì¸ ë°©ë²•</h4>
                        <ol>
                            <li>AppFactory Admin Siteì—ì„œ <strong>Push ì „ì†¡</strong> ë©”ë‰´ ì´ë™</li>
                            <li>í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ ì‘ì„±</li>
                            <li><strong>í…ŒìŠ¤íŠ¸ ì „ì†¡</strong> ë²„íŠ¼ í´ë¦­</li>
                            <li>ì•±ì—ì„œ Push ì•Œë¦¼ ìˆ˜ì‹  í™•ì¸</li>
                        </ol>

                        <h4>ğŸ“ ìš”ì•½</h4>
                        <table style="width:100%; border-collapse: collapse; margin: 15px 0;">
                            <tr style="background: #f8f9fa;">
                                <th style="border: 1px solid #e0e0e0; padding: 10px;">ë‹¨ê³„</th>
                                <th style="border: 1px solid #e0e0e0; padding: 10px;">ì‚¬ì´íŠ¸</th>
                                <th style="border: 1px solid #e0e0e0; padding: 10px;">ì‘ì—…</th>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">1</td>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">Firebase Console</td>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">í”„ë¡œì íŠ¸ ìƒì„± + google-services.json ë‹¤ìš´ë¡œë“œ</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">2</td>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">Firebase Console</td>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">Admin SDK ë¹„ê³µê°œ í‚¤ ìƒì„± (Java)</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">3</td>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">AppFactory Admin</td>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">ì•± ë“±ë¡</td>
                            </tr>
                            <tr>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">4</td>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">AppFactory Admin</td>
                                <td style="border: 1px solid #e0e0e0; padding: 10px;">ë¹„ê³µê°œ í‚¤ ì—…ë¡œë“œ â†’ Push ì—°ë™ ì™„ë£Œ</td>
                            </tr>
                        </table>

                        <div class="note">
                            <strong>ğŸ’¡ íŒ:</strong> ì´ ë¦¬ë¹Œë” íˆ´ì—ì„œ ë‹¤ìš´ë¡œë“œí•œ í”„ë¡œì íŠ¸ëŠ” ì´ë¯¸ AppFactory SDKê°€ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ìœ„ ë‹¨ê³„ë§Œ ì§„í–‰í•˜ë©´ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤!
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="container">
        <h1>Android Project Rebuilder</h1>
        <p class="subtitle">ìë™ íŒ¨í‚¤ì§€ëª… ë³€ê²½, ì•± ì´ë¦„ ìˆ˜ì •, ë²„ì „ ì´ˆê¸°í™” ë„êµ¬</p>

        <form id="rebuildForm">
            <!-- í•„ìˆ˜ ì…ë ¥ -->
            <div class="form-group">
                <label>
                    Android í”„ë¡œì íŠ¸ ZIP <span class="required">*</span>
                </label>
                <input type="file" id="projectZip" accept=".zip" required>
                <div class="file-info">ì••ì¶•ëœ Android í”„ë¡œì íŠ¸ íŒŒì¼ì„ ì„ íƒí•˜ì„¸ìš”</div>
            </div>

            <div class="form-group">
                <label>
                    ìƒˆ íŒ¨í‚¤ì§€ëª… <span class="required">*</span>
                </label>
                <input type="text" id="newPackage" placeholder="com.example.newapp" required>
            </div>

            <div class="form-group">
                <label>
                    ìƒˆ ì•± ì´ë¦„ <span class="required">*</span>
                </label>
                <input type="text" id="newAppName" placeholder="MyNewApp" required>
            </div>

            <hr class="divider">

            <!-- ì„ íƒì  ì…ë ¥ -->
            <p class="section-title">ì„ íƒ ì‚¬í•­</p>

            <div class="form-group">
                <label>
                    google-services.json <span class="optional">(ì„ íƒ)</span>
                </label>
                <input type="file" id="googleServices" accept=".json">
                <div class="file-info">Firebase ì„¤ì • íŒŒì¼ (ì„ íƒ)</div>
            </div>

            <div class="form-group">
                <label>
                    ì•± ì•„ì´ì½˜ ì´ë¯¸ì§€ <span class="optional">(ì„ íƒ)</span>
                </label>
                <input type="file" id="appIcon" accept=".png,.jpg,.jpeg">
                <div class="file-info">PNG ë˜ëŠ” JPG í˜•ì‹ (ëª¨ë“  í•´ìƒë„ì— ì ìš©)</div>
            </div>

            <div class="form-group">
                <label>
                    ìŠ¤í”Œë˜ì‹œ ì´ë¯¸ì§€ <span class="optional">(ì„ íƒ)</span>
                </label>
                <input type="file" id="splashImage" accept=".png,.jpg,.jpeg">
                <div class="file-info">PNG ë˜ëŠ” JPG í˜•ì‹ - ìŠ¤í”Œë˜ì‹œ í™”ë©´ì— ì‚¬ìš©ë˜ëŠ” ì´ë¯¸ì§€</div>
            </div>

            <div class="form-group">
                <label>
                    ìƒˆ BASE_URL <span class="optional">(ì„ íƒ)</span>
                </label>
                <input type="text" id="newBaseUrl" placeholder="https://api.example.com/ (ë§ˆì§€ë§‰ì— / í•„ìˆ˜)">
                <div class="file-info">âš ï¸ ì£¼ì˜: ë§ˆì§€ë§‰ì— ë°˜ë“œì‹œ ìŠ¬ë˜ì‹œ(/)ë¥¼ ë¶™ì—¬ì£¼ì„¸ìš” (ì˜ˆ: https://api.example.com/)</div>
            </div>

            <div class="checkbox-group">
                <input type="checkbox" id="includeLog" checked>
                <label for="includeLog">
                    ğŸ“‹ ANDROID_REBUILDER_LOG.txt íŒŒì¼ í¬í•¨ (ì²˜ë¦¬ ë¡œê·¸ ì €ì¥)
                </label>
            </div>

            <button type="submit" class="btn-primary" id="submitBtn">
                ğŸš€ í”„ë¡œì íŠ¸ ë¦¬ë¹Œë“œ ì‹œì‘
            </button>
        </form>

        <!-- ì§„í–‰ ìƒí™© -->
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="log-container" id="logContainer"></div>
        </div>

        <!-- ì„±ê³µ/ì‹¤íŒ¨ ë©”ì‹œì§€ -->
        <div class="success-message" id="successMessage">
            âœ… ë¦¬ë¹Œë“œ ì™„ë£Œ! íŒŒì¼ì´ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤.
        </div>
        <div class="error-message" id="errorMessage"></div>
    </div>

    <script>
        const form = document.getElementById('rebuildForm');
        const submitBtn = document.getElementById('submitBtn');
        const progressContainer = document.getElementById('progressContainer');
        const progressFill = document.getElementById('progressFill');
        const logContainer = document.getElementById('logContainer');
        const successMessage = document.getElementById('successMessage');
        const errorMessage = document.getElementById('errorMessage');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            // ì´ˆê¸°í™”
            progressContainer.style.display = 'block';
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            logContainer.innerHTML = '';
            submitBtn.disabled = true;
            submitBtn.textContent = 'â³ ì²˜ë¦¬ ì¤‘...';

            // ì§„í–‰ë°” ì• ë‹ˆë©”ì´ì…˜
            progressFill.style.width = '30%';
            addLog('í”„ë¡œì íŠ¸ ì—…ë¡œë“œ ì¤‘...', 'step');

            try {
                // FormData ìƒì„±
                const formData = new FormData();
                formData.append('project_zip', document.getElementById('projectZip').files[0]);
                formData.append('new_package', document.getElementById('newPackage').value);
                formData.append('new_app_name', document.getElementById('newAppName').value);

                // ì„ íƒì  íŒŒì¼
                const googleServices = document.getElementById('googleServices').files[0];
                if (googleServices) {
                    formData.append('google_services', googleServices);
                    addLog('Firebase ì„¤ì • í¬í•¨', 'success');
                }

                const appIcon = document.getElementById('appIcon').files[0];
                if (appIcon) {
                    formData.append('app_icon', appIcon);
                    addLog('ì•± ì•„ì´ì½˜ í¬í•¨', 'success');
                }

                const splashImage = document.getElementById('splashImage').files[0];
                if (splashImage) {
                    formData.append('splash_image', splashImage);
                    addLog('ìŠ¤í”Œë˜ì‹œ ì´ë¯¸ì§€ í¬í•¨', 'success');
                }

                const newBaseUrl = document.getElementById('newBaseUrl').value;
                if (newBaseUrl) {
                    formData.append('new_base_url', newBaseUrl);
                    addLog(`BASE_URL: ${newBaseUrl}`, 'success');
                }

                // ë¡œê·¸ íŒŒì¼ í¬í•¨ ì—¬ë¶€
                const includeLog = document.getElementById('includeLog').checked;
                formData.append('include_log', includeLog);
                if (includeLog) {
                    addLog('ë¡œê·¸ íŒŒì¼ í¬í•¨', 'success');
                }

                progressFill.style.width = '60%';
                addLog('ì„œë²„ ì²˜ë¦¬ ì¤‘...', 'step');

                // API í˜¸ì¶œ
                const response = await fetch('/process', {
                    method: 'POST',
                    body: formData
                });

                progressFill.style.width = '90%';

                if (response.ok) {
                    // ì„±ê³µ - Blobìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ
                    const blob = await response.blob();

                    // ì„œë²„ì—ì„œ ì „ë‹¬í•œ íŒŒì¼ëª… ì¶”ì¶œ
                    const contentDisposition = response.headers.get('Content-Disposition');
                    let filename = 'rebuilt_project.zip'; // ê¸°ë³¸ê°’

                    if (contentDisposition) {
                        const filenameMatch = contentDisposition.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);
                        if (filenameMatch && filenameMatch[1]) {
                            filename = filenameMatch[1].replace(/['"]/g, '');
                            // URL ë””ì½”ë”© (í•œê¸€ íŒŒì¼ëª… ì§€ì›)
                            filename = decodeURIComponent(filename);
                        }
                    }

                    const url = window.URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = filename;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    window.URL.revokeObjectURL(url);

                    progressFill.style.width = '100%';
                    addLog('ë¦¬ë¹Œë“œ ì™„ë£Œ!', 'success');
                    addLog(`${filename} ë‹¤ìš´ë¡œë“œ ì‹œì‘`, 'success');
                    successMessage.style.display = 'block';

                } else {
                    // ì‹¤íŒ¨
                    const errorData = await response.json();
                    addLog('ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ', 'error');

                    if (errorData.detail && errorData.detail.logs) {
                        errorData.detail.logs.forEach(log => {
                            addLog(log, getLogClass(log));
                        });
                    }

                    errorMessage.textContent = `âŒ ì˜¤ë¥˜: ${errorData.detail?.error || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜'}`;
                    errorMessage.style.display = 'block';
                }

            } catch (error) {
                addLog(`ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜: ${error.message}`, 'error');
                errorMessage.textContent = `âŒ ì˜¤ë¥˜: ${error.message}`;
                errorMessage.style.display = 'block';
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'ğŸš€ í”„ë¡œì íŠ¸ ë¦¬ë¹Œë“œ ì‹œì‘';
            }
        });

        function addLog(message, className = '') {
            const logLine = document.createElement('div');
            logLine.className = `log-line ${className}`;
            logLine.textContent = message;
            logContainer.appendChild(logLine);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        function getLogClass(log) {
            if (log.includes('ERROR')) return 'error';
            if (log.includes('WARNING')) return 'warning';
            if (log.includes('---')) return 'step';
            if (log.includes('Successfully') || log.includes('Completed')) return 'success';
            return '';
        }

        // Help Modal Functions
        function toggleHelp() {
            const modal = document.getElementById('helpModal');
            modal.classList.toggle('active');
        }

        function toggleAccordion(header) {
            const content = header.nextElementSibling;
            const isActive = header.classList.contains('active');

            // Close all accordions
            document.querySelectorAll('.accordion-header').forEach(h => {
                h.classList.remove('active');
                h.nextElementSibling.classList.remove('active');
            });

            // Toggle current accordion
            if (!isActive) {
                header.classList.add('active');
                content.classList.add('active');
            }
        }

        // Close modal when clicking outside
        document.addEventListener('click', (e) => {
            const modal = document.getElementById('helpModal');
            if (e.target === modal) {
                modal.classList.remove('active');
            }
        });
    </script>
</body>
</html>
